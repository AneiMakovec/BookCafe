<h2>Browse books</h2>
<h3>Weather information for {{weather.name}}:</h3>
<table>
  <tr>
    <td><label for="main">Mainly: </label></td>
    <td><label id="main">{{weather.weather[0].main}}</label></td>
  </tr>
  <tr>
    <td><label for="temp">Temperature: </label></td>
    <td><label id="temp">{{weather.main.temp}}</label></td>
  </tr>
  <tr>
    <td><label for="hum">Humidity: </label></td>
    <td><label id="hum">{{weather.main.humidity}}</label></td>
  </tr>
  <tr>
    <td><label for="wind">Wind speed: </label></td>
    <td><label id="wind">{{weather.wind.speed}}</label></td>
  </tr>
</table>
<br>
<br>
<h3>Logged in as: {{username}}</h3>
<button type="button" (click)="logOut()">Log out</button>
<form (ngSubmit)="searchBooks()" ngNativeValidate>
  <table>
    <tr>
      <td><label for="inputSearch">Search books: </label></td>
      <td><input [(ngModel)]="search" id="inputSearch" name="inputSearch" required/></td>
    </tr>
  </table>

  <button type="submit">Search</button>
  <button type="button" (click)="getAllBooks()">All</button>
  <button type="button" (click)="getFavBooks()">Favourites</button>
</form>
<!--<li *ngFor="let book of books">-->
<!--  <span>{{book.author}} {{book.title}}</span>-->
<!--</li>-->
<!---------------------------------------------------------------------------------------->
<!--<table mat-table [dataSource]="books" matSort class="Book">-->
<!--  <ng-container matColumnDef="author">-->
<!--    <th mat-header-cell *matHeaderCellDef mat-sort-header> Author </th>-->
<!--    <td mat-cell *matCellDef="let row"> {{row.author}} </td>-->
<!--  </ng-container>-->
<!--  <ng-container matColumnDef="title">-->
<!--    <th mat-header-cell *matHeaderCellDef mat-sort-header> Title </th>-->
<!--    <td mat-cell *matCellDef="let row"> {{row.title}} </td>-->
<!--  </ng-container>-->
<!--  <ng-container matColumnDef="numPages">-->
<!--    <th mat-header-cell *matHeaderCellDef mat-sort-header> Number of pages </th>-->
<!--    <td mat-cell *matCellDef="let row"> {{row.numPages}} </td>-->
<!--  </ng-container>-->
<!--  <ng-container matColumnDef="publisher">-->
<!--    <th mat-header-cell *matHeaderCellDef mat-sort-header> Publisher </th>-->
<!--    <td mat-cell *matCellDef="let row"> {{row.publisher}} </td>-->
<!--  </ng-container>-->

<!--  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>-->
<!--  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>-->
<!--</table>-->
<!---------------------------------------------------------------------------------------->
<table matSort (matSortChange)="sortData($event)">
  <tr>
    <th mat-sort-header="author">Author</th>
    <th mat-sort-header="title">Title</th>
    <th mat-sort-header="numPages">Number of pages</th>
    <th mat-sort-header="publisher">Publisher</th>
    <th>Add to favourites</th>
    <th>Comments</th>
  </tr>

  <tr *ngFor="let book of sortedData">
    <td>{{book.book.author}}</td>
    <td>{{book.book.title}}</td>
    <td>{{book.book.numPages}}</td>
    <td>{{book.book.publisher}}</td>
    <td><button class="btn btn-primary" (click)="addToFavourites(book)">Add</button></td>
    <td><button class="btn btn-primary" (click)="toCommentPage(book)">Comment</button></td>
  </tr>
<!--  <tr >-->
<!--    <td>{{book.author}}</td>-->
<!--    <td>{{book.title}}</td>-->
<!--    <td>{{book.numPages}}</td>-->
<!--    <td>{{book.publisher}}</td>-->
<!--    <td><button (click)="addToFavourites(book.bookId)">Favourite</button></td>-->
<!--  </tr>-->
</table>
